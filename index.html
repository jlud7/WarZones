<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>War Zones - Advanced Naval Combat</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Game Menu -->
  <div id="gameMenu" class="menu-overlay">
    <div class="menu-content">
      <h1>WAR ZONES</h1>
      <div class="menu-buttons">
        <button id="playVsAI" class="menu-button">Play vs AI</button>
        <button id="playVsHuman" class="menu-button">Play vs Human (Local)</button>
        <button id="playOnline" class="menu-button online-button">Play Online</button>
      </div>
    </div>
  </div>

  <!-- Room Code Menu -->
  <div id="roomCodeMenu" class="menu-overlay" style="display: none;">
    <div class="menu-content">
      <h1>ONLINE MULTIPLAYER</h1>
      <div class="room-code-section">
        <p class="room-code-instructions">Enter a 7-character room code to play with a friend:</p>
        <input type="text" id="roomCodeInput" class="room-code-input" maxlength="7" placeholder="HAWK7XZ" />
        <div class="room-code-buttons">
          <button id="joinRoom" class="menu-button">Join Room</button>
          <button id="generateRoomCode" class="menu-button secondary-button">Generate Code</button>
        </div>
        <button id="backToMenu" class="menu-button back-button">Back</button>
      </div>
      <div id="connectionStatus" class="connection-status"></div>
    </div>
  </div>

  <!-- Waiting Room -->
  <div id="waitingRoom" class="menu-overlay" style="display: none;">
    <div class="menu-content">
      <h1>WAITING FOR OPPONENT</h1>
      <div class="waiting-content">
        <p class="room-code-display">Room Code: <span id="currentRoomCode" class="room-code-highlight"></span></p>
        <p class="waiting-message">Share this code with your friend!</p>
        <div class="loading-animation">
          <div class="loading-dot"></div>
          <div class="loading-dot"></div>
          <div class="loading-dot"></div>
        </div>
        <p id="waitingStatus" class="waiting-status">Waiting for opponent to join...</p>
        <button id="leaveRoom" class="menu-button back-button">Leave Room</button>
      </div>
    </div>
  </div>

  <!-- Game Header -->
  <header class="game-header">
    <div id="gameTimer" class="timer">00:00</div>
    <div class="sound-control">
      <button id="toggleSound" class="icon-button">üîä</button>
    </div>
  </header>

  <!-- Score Display -->
  <div id="winCounter" class="win-counter">
    <div class="player-score active">
      <div class="player-info">
        <span class="player-icon" id="player1Icon">üë§</span>
        <span class="player-name">Player 1</span>
      </div>
      <div class="score-container">
        <div class="win-label">Wins: <span id="player1Wins">0</span></div>
        <div class="stats-row">
          <span class="hits">Hits: 0</span>
          <span class="accuracy">Acc: 0%</span>
        </div>
      </div>
    </div>
    <div class="player-score">
      <div class="player-info">
        <span class="player-icon" id="player2Icon">ü§ñ</span>
        <span class="player-name" id="player2Name">AI</span>
      </div>
      <div class="score-container">
        <div class="win-label">Wins: <span id="player2Wins">0</span></div>
        <div class="stats-row">
          <span class="hits">Hits: 0</span>
          <span class="accuracy">Acc: 0%</span>
        </div>
      </div>
    </div>
  </div>
      
  <!-- Commentary Box (permanent) -->
  <div id="commentaryBox" class="commentary-box">
    <p id="commentaryText">Welcome to War Zones!</p>
  </div>
  
  <!-- Game Container -->
  <div class="game-container">
    <div class="layer-container player-boards active">
      <h2 id="playerBoardTitle">Player 1</h2>
      <div class="boards-wrapper">
        <!-- Space Board -->
        <div class="board-section">
          <div class="layer-label">SPACE</div>
          <div class="board" id="playerSpaceBoard" data-layer="Space"></div>
        </div>
        
        <!-- Sky Board -->
        <div class="board-section">
          <div class="layer-label">SKY</div>
          <div class="board" id="playerSkyBoard" data-layer="Sky"></div>
        </div>
        
        <!-- Sea Board -->
        <div class="board-section">
          <div class="layer-label">SEA</div>
          <div class="board" id="playerSeaBoard" data-layer="Sea"></div>
        </div>
        
        <!-- Submarine Board -->
        <div class="board-section">
          <div class="layer-label">UNDERWATER</div>
          <div class="board" id="playerSubBoard" data-layer="Sub"></div>
        </div>
      </div>
    </div>
    
    <div class="layer-container opponent-boards">
      <h2 id="opponentTitle">AI</h2>
      <div class="boards-wrapper">
        <!-- Space Board -->
        <div class="board-section">
          <div class="layer-label">SPACE</div>
          <div class="board" id="opponentSpaceBoard" data-layer="Space"></div>
        </div>
        
        <!-- Sky Board -->
        <div class="board-section">
          <div class="layer-label">SKY</div>
          <div class="board" id="opponentSkyBoard" data-layer="Sky"></div>
        </div>
        
        <!-- Sea Board -->
        <div class="board-section">
          <div class="layer-label">SEA</div>
          <div class="board" id="opponentSeaBoard" data-layer="Sea"></div>
        </div>
        
        <!-- Submarine Board -->
        <div class="board-section">
          <div class="layer-label">UNDERWATER</div>
          <div class="board" id="opponentSubBoard" data-layer="Sub"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Game Controls -->
  <div class="game-controls">
    <div class="primary-controls">
      <button id="orientationButton" class="control-button">
        <span class="button-icon">üîÑ</span>
        <span class="button-text">Rotate Ship</span>
      </button>
      <button id="undoMove" class="control-button">
        <span class="button-icon">‚Ü©Ô∏è</span>
        <span class="button-text">Undo Placement</span>
      </button>
    </div>
    <div class="new-game-controls">
      <button id="resetGame" class="control-button">
        <span class="button-icon">üéÆ</span>
        <span class="button-text">New AI Game</span>
      </button>
      <button id="newGameHuman" class="control-button">
        <span class="button-icon">üë•</span>
        <span class="button-text">New 2 Player Game</span>
      </button>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyB88Q3McS_IGO45-61gK998FQG3LWw7qME",
      authDomain: "warzones-a515c.firebaseapp.com",
      databaseURL: "https://warzones-a515c-default-rtdb.firebaseio.com",
      projectId: "warzones-a515c",
      storageBucket: "warzones-a515c.firebasestorage.app",
      messagingSenderId: "1051625883892",
      appId: "1:1051625883892:web:56101adfac1596026bf6a1"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>

  <script src="script.js"></script>
</body>
</html>